@model SistemaAlmacenWeb.Models.Factura
@{
    ViewData["Title"] = "Ticket de Venta";
}

<style>
    @@media print {
        header, footer, .btn-no-print {
            display: none !important;
        }

        body, .card {
            background: white !important;
            color: black !important;
            box-shadow: none !important;
            border: none !important;
        }
    }
</style>

<div class="container mt-4" style="max-width: 700px;">

    <div class="d-flex justify-content-between mb-3 btn-no-print">
        <a asp-action="Index" class="btn btn-outline-secondary"><i class="fas fa-arrow-left me-2"></i> Volver</a>
        <button onclick="window.print()" class="btn btn-warning text-dark fw-bold"><i class="fas fa-print me-2"></i> Imprimir</button>
    </div>

    <div class="card shadow border-0">
        <div class="card-header bg-primary text-white text-center p-4">
            <i class="fas fa-box-open fa-3x mb-2"></i>
            <h2 class="fw-bold mb-0">ALMAXEN</h2>
            <small>Comprobante de Venta</small>
        </div>

        <div class="card-body p-5">
            <div class="row mb-4">
                <div class="col-6">
                    <small class="text-muted fw-bold d-block">CLIENTE</small>
                    <span class="fs-5 text-dark">@(Model.Cliente != null ? Model.Cliente.Nombre : "Público General")</span>
                </div>
                <div class="col-6 text-end">
                    <small class="text-muted fw-bold d-block">FOLIO #@Model.IdFactura</small>
                    <span class="text-dark">@Model.Fecha.ToString("dd/MM/yyyy HH:mm")</span>
                </div>
            </div>

            <table class="table table-sm align-middle mb-4 border-top">
                <thead class="text-muted">
                    <tr><th>CANT</th><th>DESCRIPCIÓN</th><th class="text-end">IMPORTE</th></tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.DetalleFacturas)
                    {
                        <tr>
                            <td>@item.Cantidad</td>
                            <td>@item.Articulo.Descripcion<br /><small class="text-muted">$@item.PrecioUnitario.ToString("N2") unit.</small></td>
                            <td class="text-end">$@((item.Cantidad * item.PrecioUnitario).ToString("N2"))</td>
                        </tr>
                    }
                </tbody>
            </table>

            <div class="d-flex justify-content-between align-items-center p-3 bg-light rounded">
                <span class="fs-5 fw-bold text-muted">TOTAL</span>
                <span class="fs-3 fw-bold text-success">$@Model.Total.ToString("N2")</span>
            </div>

            <div class="text-center mt-5 text-muted small">
                <p class="mb-0">¡Gracias por su compra!</p>
            </div>
        </div>
        <div class="card-footer bg-primary py-2"></div>
    </div>
</div>